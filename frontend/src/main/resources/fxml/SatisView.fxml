<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.veteriner.controller.SatisController">
    <VBox spacing="10" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10" AnchorPane.topAnchor="10" AnchorPane.bottomAnchor="10">
        <HBox spacing="10">
            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <Label text="Müşteri Seçimi" style="-fx-font-weight: bold" />
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <ComboBox fx:id="musteriComboBox" prefWidth="300" />
                    <Button text="Yeni Müşteri" onAction="#handleYeniMusteri" />
                </HBox>
            </VBox>
            
            <VBox spacing="10">
                <Label text="Müşteri Detayı" style="-fx-font-weight: bold" />
                <GridPane hgap="10" vgap="5">
                    <Label text="Ad:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label fx:id="musteriAdLabel" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    
                    <Label text="Telefon:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <Label fx:id="musteriTelefonLabel" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    
                    <Label text="Toplam Borç:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <Label fx:id="musteriBorcLabel" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                </GridPane>
            </VBox>
        </HBox>

        <Separator />

        <HBox spacing="10">
            <VBox spacing="10" prefWidth="300">
                <Label text="Ürün Ekleme" style="-fx-font-weight: bold" />
                <ComboBox fx:id="kategoriComboBox" promptText="Kategori Seçin" prefWidth="300" />
                <ComboBox fx:id="urunComboBox" promptText="Ürün Seçin" prefWidth="300" />
                <GridPane hgap="10" vgap="5">
                    <Label text="Fiyat:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label fx:id="urunFiyatLabel" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    
                    <Label text="Stok:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <Label fx:id="urunStokLabel" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    
                    <Label text="Miktar:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <Spinner fx:id="miktarSpinner" editable="true" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                </GridPane>
                <Button text="Sepete Ekle" onAction="#handleSepeteEkle" maxWidth="Infinity" />
            </VBox>

            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <Label text="Sepet" style="-fx-font-weight: bold" />
                <TableView fx:id="sepetTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="urunAdColumn" text="Ürün" prefWidth="200" />
                        <TableColumn fx:id="birimFiyatColumn" text="Birim Fiyat" prefWidth="100" />
                        <TableColumn fx:id="miktarColumn" text="Miktar" prefWidth="100" />
                        <TableColumn fx:id="toplamFiyatColumn" text="Toplam" prefWidth="100" />
                    </columns>
                </TableView>
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Label text="Genel Toplam:" style="-fx-font-weight: bold" />
                    <Label fx:id="genelToplamLabel" style="-fx-font-weight: bold" />
                </HBox>
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Button text="Seçili Ürünü Çıkar" onAction="#handleUrunCikar" />
                    <Button text="Sepeti Temizle" onAction="#handleSepetiTemizle" />
                    <Button text="Satışı Tamamla" onAction="#handleSatisiTamamla" style="-fx-base: #4CAF50" />
                </HBox>
            </VBox>
        </HBox>
    </VBox>
</AnchorPane>